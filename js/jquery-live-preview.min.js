!function(e){e.fn.extend({livePreview:function(t){var i={targetWidth:1e3,targetHeight:800,viewWidth:300,viewHeight:200,position:"right",positionOffset:50},t=e.extend(i,t),a=t.viewWidth/t.targetWidth,n=t.viewHeight/t.targetHeight,o=1;return o="undefined"!=typeof t.scale?t.scale:a>n?a:n,this.each(function(){var i=t,a=o,n=e(this),s=e(this).attr("href");n.hover(function(){var t=i.position;n.attr("data-position")&&(t=n.attr("data-position"));var o=i.positionOffset;n.attr("data-positionOffset")&&(o=n.attr("data-positionOffset"));var r=e(this).offset(),l=e(this).width(),c=r.left+l+o;"left"==t&&(c=r.left-i.viewWidth-o);var d=r.top-i.viewHeight/2;e("body").append('<div id="livepreview_dialog" class="'+t+'" style="display:none; padding:0px; left: '+c+"px; top:"+d+"px; width: "+i.viewWidth+"px; height: "+i.viewHeight+'px"><div class="livepreview-container" style="overflow:hidden; width: '+i.viewWidth+"px; height: "+i.viewHeight+'px"><iframe id="livepreview_iframe" src="'+s+'" style="height:'+i.targetHeight+"px; width:"+i.targetWidth+"px;-moz-transform: scale("+a+");-moz-transform-origin: 0 0;-o-transform: scale("+a+");-o-transform-origin: 0 0;-webkit-transform: scale("+a+');-webkit-transform-origin: 0 0;"></iframe></div></div>'),e("#livepreview_dialog").fadeIn(100)},function(){e("#livepreview_dialog").remove()})})}})}(jQuery);
