!function(a){a.fn.extend({livePreview:function(b){var c={trigger:"hover",targetWidth:1e3,targetHeight:800,viewWidth:300,viewHeight:200,position:"right",positionOffset:50},b=a.extend(c,b),d=b.viewWidth/b.targetWidth,e=b.viewHeight/b.targetHeight,f=1,g="livepreview_dialog";return f="undefined"!=typeof b.scale?b.scale:d>e?d:e,this.each(function(){var c=b,d=f,e=a(this),h=a(this).attr("href"),i=b.trigger;e.attr("data-trigger")&&(i=e.attr("data-trigger")),"click"!=i&&(i="mouseenter"),e.on(i,function(){"click"==i&&0==a("#"+g).length&&event.preventDefault();var b=c.position;e.attr("data-position")&&(b=e.attr("data-position"));var f=c.positionOffset;e.attr("data-positionOffset")&&(f=e.attr("data-positionOffset")),e.attr("data-scale")&&(d=e.attr("data-scale"));var j=a(this).offset(),k=a(this).width(),l=j.left+k+f;"left"==b&&(l=j.left-c.viewWidth-f);var m=j.top-c.viewHeight/2;a("body").append('<div id="livepreview_dialog" class="'+b+'" style="display:none; padding:0px; left: '+l+"px; top:"+m+"px; width: "+c.viewWidth+"px; height: "+c.viewHeight+'px"><div class="livepreview-container" style="overflow:hidden; width: '+c.viewWidth+"px; height: "+c.viewHeight+'px"><iframe id="livepreview_iframe" src="'+h+'" style="height:'+c.targetHeight+"px; width:"+c.targetWidth+"px;-moz-transform: scale("+d+");-moz-transform-origin: 0 0;-o-transform: scale("+d+");-o-transform-origin: 0 0;-webkit-transform: scale("+d+');-webkit-transform-origin: 0 0;"></iframe></div></div>'),a("#"+g).fadeIn(100)}),e.on("mouseleave",function(){a("#"+g).remove()})})}})}(jQuery);